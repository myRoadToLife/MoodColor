ИНСТРУКЦИЯ ПО ДОБАВЛЕНИЮ КНОПКИ СИНХРОНИЗАЦИИ В ПАНЕЛЬ ИСТОРИИ

1. ДОБАВЛЕНИЕ КНОПКИ В UI:
   - Откройте сцену "PersonalAreaScene" в Unity
   - Найдите в иерархии объект панели истории (обычно называется "HistoryPanel" или содержит этот текст в имени)
   - Добавьте новую кнопку UI в панель (GameObject -> UI -> Button)
   - Расположите кнопку в удобном месте на панели (например, рядом с кнопкой закрытия)
   - Настройте внешний вид кнопки согласно стилю приложения
   - Установите текст кнопки "Синхронизировать" или добавьте иконку синхронизации

2. СВЯЗЫВАНИЕ КНОПКИ С КОНТРОЛЛЕРОМ:
   - Выберите объект HistoryPanel в иерархии
   - В инспекторе найдите компонент "HistoryPanelController"
   - В секции "Кнопки" найдите поле "Sync Button"
   - Перетащите созданную кнопку из иерархии в это поле

3. ПРОВЕРКА РАБОТЫ:
   - Запустите приложение
   - Войдите в личный кабинет и откройте панель истории
   - Убедитесь, что кнопка синхронизации отображается
   - Нажмите на кнопку, чтобы проверить запуск принудительной синхронизации
   - Проверьте, что данные из локальной истории успешно синхронизируются с облаком

ВАЖНО: Принудительная синхронизация теперь добавляет ВСЕ локальные записи истории в облако, отмечая их как несинхронизированные. Это решает проблему, когда локальные записи не попадают в облако.

ПРИМЕЧАНИЕ: Если синхронизация не работает, проверьте:
1. Подключение к интернету
2. Аутентификацию пользователя в Firebase
3. Логи в консоли Unity на наличие ошибок (ищите теги [FORCE-SYNC] и [SYNC-EMOTION]) 