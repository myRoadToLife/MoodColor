# Руководство по миграции: EmotionJarsComponent → EmotionJarView

## Причины миграции

Компонент `EmotionJarsComponent` был заменен на улучшенную версию `EmotionJarView`, которая:
- Имеет лучшую структуру кода
- Поддерживает генерацию пузырей
- Реализует интерфейс `IUIComponent`
- Использует базовый класс `BaseUIElement`

## Шаги по миграции

### 1. Замена ссылок в инспекторе

1. Найдите все GameObject'ы, использующие компонент `EmotionJarsComponent`
2. Удалите компонент `EmotionJarsComponent`
3. Добавьте компонент `EmotionJarView`
4. Перенесите ссылки на изображения банок:
   - `_joyJarFill`
   - `_sadnessJarFill`
   - `_angerJarFill`
   - `_fearJarFill`
   - `_disgustJarFill`
5. Добавьте новые поля для функциональности пузырей:
   - Создайте GameObject `BubblesContainer` как дочерний
   - Назначьте его в поле `_bubblesContainer`
   - Назначьте префаб пузыря в поле `_bubblePrefab` (находится в `Assets/App/Resources/UI/Prefabs/Bubbles`)

### 2. Замена ссылок в коде

В скриптах, которые ссылались на `EmotionJarsComponent`, выполните следующие замены:

```csharp
// Было
[SerializeField] private EmotionJarsComponent _emotionJars;

// Стало
[SerializeField] private EmotionJarView _emotionJars;
```

Если в коде использовался метод инициализации, добавьте вызов:

```csharp
// Добавить в методы инициализации
_emotionJars.Initialize();
```

### 3. Проверка работоспособности

После выполнения миграции:
1. Скомпилируйте проект и исправьте возможные ошибки
2. Запустите сцену и убедитесь, что банки корректно отображаются
3. Проверьте, что пузыри генерируются и движутся правильно

## Удаление устаревшего кода

После завершения миграции и успешного тестирования можно безопасно удалить файл `EmotionJarsComponent.cs`.

## Контрольный список

- [ ] Заменены все ссылки в инспекторе
- [ ] Заменены все ссылки в коде
- [ ] Настроены контейнеры для пузырей
- [ ] Добавлен префаб пузыря
- [ ] Проведено тестирование
- [ ] Удален исходный файл `EmotionJarsComponent.cs` 