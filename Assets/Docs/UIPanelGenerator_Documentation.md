# Документация по Генератору UI Панелей

## Обзор

Генератор UI Панелей - это мощный инструмент для Unity Editor, предназначенный для быстрого создания и кастомизации игровых пользовательских интерфейсов (UI). Он позволяет дизайнерам и разработчикам создавать сложные UI панели из готовых шаблонов или с нуля, настраивая их внешний вид, структуру и интерактивные элементы.

Инструмент поддерживает систему шаблонов для сохранения и многократного использования конфигураций панелей, а также позволяет генерировать готовые префабы UI.

## Как открыть инструмент

В Unity Editor перейдите в меню:
`Tools > Custom Panel Generator`

## Разделы Генератора Панелей

Интерфейс генератора разделен на несколько логических секций для удобства настройки.

### 1. Управление Шаблонами (Template Management)

Эта секция позволяет загружать, сохранять и обновлять шаблоны панелей. Шаблоны хранятся как ScriptableObjects и содержат полную конфигурацию панели, включая настройки UI элементов.

-   **Load Template**: Загружает существующий шаблон. Перетащите файл `PanelTemplate.asset` из окна Project сюда или используйте кнопку выбора.
    -   **Apply**: Применяет настройки загруженного шаблона к текущему генератору. Все поля ниже обновятся в соответствии с выбранным шаблоном.
-   **New Template Name**: Введите имя для нового шаблона, который вы хотите сохранить.
-   **Save as New Template**: Сохраняет текущие настройки генератора как новый шаблон (файл `.asset`) в папке `Assets/Editor/PanelTemplates/`. Если шаблон с таким именем уже существует, будет создан уникальный путь.
-   **Update [Template Name] Template**: Обновляет **загруженный** шаблон текущими настройками генератора.
-   **HelpBox**: Предоставляет информацию о том, где хранятся шаблоны и как их создавать вручную (`Project > Create > UI > Panel Template`).

### 2. Текущие Настройки Панели (Current Panel Settings)

Здесь вы настраиваете основные свойства генерируемой панели.

-   **Panel Name**: Имя GameObject панели в иерархии и имя файла префаба.
-   **Panel Size (Width, Height)**: Размеры панели в пикселях.
-   **Background Color**: Цвет фона панели.
-   **Background Sprite**: Спрайт для фона панели. Если не указан, будет использоваться сплошной цвет.

#### Настройки Заголовка (Header Settings)

-   **Include Header**: Включить или выключить заголовок панели.
    -   **Header Title**: Текст заголовка.
    -   **Header Height**: Высота области заголовка.
    -   **Header BG Color**: Цвет фона заголовка.
    -   **Header BG Sprite**: Спрайт для фона заголовка.
    -   **Header Text Color**: Цвет текста заголовка.
    -   **Header Font Size**: Размер шрифта заголовка.
    -   **Include Close Button**: Добавить кнопку "Закрыть" в заголовок.
        -   **Close Button Sprite**: Спрайт для кнопки закрытия (обычно иконка "X").
        -   **Close Button Color**: Цвет кнопки закрытия.

#### Настройки Футера (Footer Settings)

-   **Include Footer**: Включить или выключить футер панели.
    -   **Footer Height**: Высота области футера.
    -   **Footer BG Color**: Цвет фона футера.
    -   **Footer BG Sprite**: Спрайт для фона футера.
    -   **Add OK/Cancel Buttons**: Добавить стандартные кнопки "OK" и "Cancel" в футер.

### 3. UI Элементы (UI Elements)

Эта секция позволяет добавлять и настраивать различные UI элементы внутри области контента панели.

-   **Content Layout**: Определяет, как дочерние UI элементы будут располагаться внутри области контента панели.
    -   **Layout Type**:
        -   **Manual**: Ручное позиционирование элементов (использует `RectTransform` для каждого элемента).
        -   **VerticalLayout**: Элементы располагаются вертикально (`VerticalLayoutGroup`).
        -   **HorizontalLayout**: Элементы располагаются горизонтально (`HorizontalLayoutGroup`).
        -   **GridLayout**: Элементы располагаются в сетке (`GridLayoutGroup`).
    -   **Spacing (X, Y)**: Расстояние между элементами (для Layout групп).
    -   **Padding (Left, Right, Top, Bottom)**: Внутренние отступы от границ родительского контейнера (для Layout групп).
    -   **Grid Columns**: Количество колонок в сетке (только для `GridLayout`).
    -   **Cell Size (X, Y)**: Размер каждой ячейки в сетке (только для `GridLayout`).

-   **Add New Element**:
    -   **Dropdown**: Выберите тип UI элемента, который хотите добавить (Button, InputField, Text, Image, ScrollView, Slider, Toggle, Dropdown, ProgressBar, Spacer).
    -   **Add**: Добавляет выбранный тип элемента в список.

-   **Quick Add Buttons**: Быстрые кнопки для добавления наиболее часто используемых элементов: Button, Text, Input, Image, Slider, Toggle.

-   **Elements List**: Список всех добавленных UI элементов.
    -   Каждый элемент отображается с **иконкой**, именем и типом.
    -   **Toggle (слева)**: Включить/выключить элемент при генерации.
    -   **Клик по элементу**: Разворачивает/сворачивает детальные настройки элемента.
    -   **▲ / ▼**: Перемещает выбранный элемент вверх/вниз по списку.
    -   **×**: Удаляет элемент из списка.

#### Детали Элемента (Element Details) - при разворачивании элемента

Здесь вы настраиваете специфические свойства каждого UI элемента:

-   **Name**: Имя GameObject элемента.
-   **Type**: Тип элемента (можно изменить после добавления).
-   **Position & Size**:
    -   **Anchor Min/Max**: Минимальные и максимальные значения якорей (от 0 до 1).
    -   **Position**: Позиция элемента относительно якорей.
    -   **Size**: Размеры элемента.
-   **Visual**:
    -   **Background Color**: Цвет фона элемента.
    -   **Background Sprite**: Спрайт для фона элемента.
-   **Text (для текстовых элементов)**:
    -   **Text**: Содержимое текста.
    -   **Font Size**: Размер шрифта.
    -   **Text Color**: Цвет текста.
    -   **Text Alignment**: Выравнивание текста (например, Center, Middle Left).
-   **Specific Properties (зависят от типа элемента)**:
    -   **InputField**: Placeholder Text, Content Type (например, Standard, Password).
    -   **Slider**: Min/Max Value, Value (текущее значение).
    -   **Toggle**: Default Value (начальное состояние включено/выключено).
    -   **Dropdown**: Опции Dropdown (можно добавлять/удалять).
-   **Interactive (для интерактивных элементов)**:
    -   **Interactable**: Включить/выключить интерактивность.
    -   **OnClick Method (только для Button)**: Имя метода, который будет вызываться при клике (требует прикрепления скрипта с этим методом к панели).

### 4. Настройки Генерации Префабов (Prefab Generation Settings)

-   **Save as Prefab**: Сохранять ли сгенерированную панель как префаб.
-   **Prefab Save Folder**: Путь к папке, куда будет сохранен префаб. Имя панели будет использоваться как имя файла префаба.

### 5. Кнопка Генерации Панели (Generate Panel)

-   **Generate Panel from Current Settings**: Создает новую UI панель в текущей сцене Unity на основе всех настроенных параметров. Если включена опция "Save as Prefab", панель также будет сохранена как префаб.

## Важные Замечания

-   **TextMeshPro**: Инструмент автоматически определяет наличие TextMeshPro. Если он не установлен в проекте, будет использоваться стандартный UI Text. Для лучшего качества текста рекомендуется импортировать пакет TextMeshPro Essentials.
-   **Шрифты**: По умолчанию используется `LegacyRuntime.ttf` или `Arial.ttf`. Для кастомизации шрифтов, пожалуйста, замените их после генерации панели или модифицируйте код генератора.
-   **Расширяемость**: Код генератора структурирован для легкой расширяемости. Вы можете добавлять новые типы UI элементов или компоненты, следуя существующей логике.
-   **Создание Default Templates**: Если вы хотите быстро создать набор заранее сконфигурированных шаблонов (MessageBox, SettingsPanel, LoginForm, InventoryGrid), используйте меню `Tools > Create Default Panel Templates`. Это создаст `.asset` файлы с шаблонами в папке `Assets/Editor/PanelTemplates/`.

---

**Разработчик**: [Ваше Имя / Команда]
**Версия**: 1.0
**Дата**: 2024-05-28 